<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ghosty Life Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#7b00ff">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,sans-serif;
  background:radial-gradient(circle at top,#2b0040,#060010);
  color:#fff
}
.wrapper{max-width:440px;margin:32px auto;padding:16px}
.card{
  background:linear-gradient(180deg,#130026,#090014);
  border-radius:26px;
  padding:22px;
  box-shadow:0 0 35px rgba(140,0,255,.4)
}
.header{
  text-align:center;
  font-size:22px;
  font-weight:700;
  padding-bottom:14px;
  border-bottom:1px solid rgba(255,255,255,.08);
  margin-bottom:18px
}
label{font-size:14px;opacity:.9}
input[type=date]{
  width:100%;
  padding:15px;
  margin-top:8px;
  border-radius:16px;
  border:none;
  font-size:16px;
  outline:none;
  background:#f3f3f3;
  appearance:none
}
button{
  width:100%;
  margin-top:14px;
  padding:16px;
  border-radius:18px;
  border:none;
  font-size:16px;
  font-weight:700;
  color:#fff;
  background:linear-gradient(135deg,#7b00ff,#c800ff);
  cursor:pointer
}
button:disabled{opacity:.6;cursor:not-allowed}
.stats{margin-top:22px;display:none}
.stat{
  display:flex;
  justify-content:space-between;
  padding:9px 0;
  font-size:15px
}
.stat span{font-weight:600}
hr{
  border:none;
  height:1px;
  background:rgba(255,255,255,.08);
  margin:14px 0
}
.footer{
  text-align:center;
  margin-top:12px;
  font-size:13px;
  opacity:.7
}
.whatsapp-float{
  position:fixed;
  bottom:22px;
  right:18px;
  width:58px;
  height:58px;
  background:#25D366;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 8px 25px rgba(0,0,0,.35);
  z-index:999
}
.whatsapp-float img{width:30px}
</style>
</head>

<body>

<div class="wrapper">
  <div class="card" id="shareCard">
    <div class="header">üëª Ghosty Life Calculator</div>

    <label>Enter your birthday</label>
    <input type="date" id="dob">

    <button id="calcBtn">Calculate Life Stats</button>

    <div class="stats" id="stats">
      <div class="stat">üéÇ Age <span id="age"></span></div>
      <div class="stat">üìÖ Days lived <span id="days"></span></div>
      <div class="stat">‚è≥ Hours lived <span id="hours"></span></div>
      <div class="stat">‚è± Minutes lived <span id="minutes"></span></div>
      <div class="stat">‚ö° Seconds lived <span id="seconds"></span></div>

      <hr>

      <div class="stat">üò¥ Time slept <span id="sleep"></span></div>
      <div class="stat">‚ù§Ô∏è Heartbeats <span id="heart"></span></div>
      <div class="stat">üí® Breaths taken <span id="breath"></span></div>
      <div class="stat">üåç Earth rotations <span id="earth"></span></div>

      <button onclick="shareImage()">üì∏ Share as Image</button>

      <div class="footer" id="liveTime"></div>
    </div>
  </div>
</div>

<a class="whatsapp-float"
href="https://whatsapp.com/channel/0029VbACHHxGOj9kgigMaW1C"
target="_blank">
<img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg">
</a>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
(() => {
  let dob = null;
  let timer = null;

  const $ = id => document.getElementById(id);

  const el = {
    age: $("age"),
    days: $("days"),
    hours: $("hours"),
    minutes: $("minutes"),
    seconds: $("seconds"),
    sleep: $("sleep"),
    heart: $("heart"),
    breath: $("breath"),
    earth: $("earth"),
    live: $("liveTime"),
    stats: $("stats"),
    dob: $("dob"),
    btn: $("calcBtn")
  };

  el.btn.onclick = () => {
    if (timer) return;
    if (!el.dob.value) return alert("Select date of birth");

    dob = new Date(el.dob.value);
    el.stats.style.display = "block";
    el.btn.disabled = true;

    update();
    timer = setInterval(update, 1000);
  };

  function update() {
    const now = new Date();
    const diff = now - dob;

    const sec = Math.floor(diff / 1000);
    const min = Math.floor(sec / 60);
    const hr = Math.floor(min / 60);
    const day = Math.floor(hr / 24);
    const yr = (diff / (1000 * 60 * 60 * 24 * 365.2422)).toFixed(2);

    el.age.textContent = yr + " yrs";
    el.days.textContent = day.toLocaleString();
    el.hours.textContent = hr.toLocaleString();
    el.minutes.textContent = min.toLocaleString();
    el.seconds.textContent = sec.toLocaleString();

    el.sleep.textContent = (day * 8).toLocaleString() + " hrs";
    el.heart.textContent = (min * 72).toLocaleString();
    el.breath.textContent = (min * 16).toLocaleString();
    el.earth.textContent = day.toLocaleString();

    el.live.textContent = "Live time: " + now.toLocaleString();
  }

  window.shareImage = () => {
    html2canvas($("shareCard"), { scale: 2 }).then(c => {
      const a = document.createElement("a");
      a.href = c.toDataURL("image/png");
      a.download = "ghosty-life-stats.png";
      a.click();
    });
  };

  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }
})();
</script>

</body>
</html>
